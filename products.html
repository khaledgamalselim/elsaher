<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Ø§Ù„Ø³Ø§Ù‡Ø± Ù„Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠØ§Øª - Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª</title>
  <style>
    body {
      font-family: 'Tajawal', Arial, sans-serif;
      background-color: #f9f9f9;
      margin: 0;
      padding: 0;
    }

    header {
      background-color: #000000;
      color: #FFD700;
      text-align: center;
      padding: 1rem;
      box-shadow: 0 2px 10px rgba(0,0,0,0.2);
    }
    
    nav {
      display: flex;
      justify-content: center;
      gap: 30px;
      padding: 10px 0;
    }
    
    nav a {
      color: #FFD700;
      text-decoration: none;
      font-size: 18px;
      padding: 8px 15px;
      border-radius: 8px;
      transition: all 0.3s;
    }
    
    nav a:hover {
      background-color: rgba(255, 215, 0, 0.2);
      color: #FFFFFF;
    }
    
    nav a.active {
      background-color: #FFD700;
      color: #000;
      font-weight: bold;
    }
    
    .container {
      max-width: 1200px;
      margin: auto;
      padding: 1.5rem;
      display: flex;
      gap: 20px;
    }
    .products-container {
      flex: 1;
    }
    #searchBox {
      width: 100%;
      padding: 10px;
      margin-bottom: 20px;
      font-size: 16px;
      border: 1px solid #ccc;
      border-radius: 6px;
    }
    .category {
      margin-bottom: 2rem;
      background: #fff;
      border-radius: 8px;
      box-shadow: 0 2px 5px rgba(0,0,0,0.1);
      padding: 1rem;
      border-top: 4px solid #FFD700;
    }
    .category h3 {
      background-color: #000000;
      color: #FFD700;
      padding: 0.5rem;
      border-radius: 6px;
    }
    table {
      width: 100%;
      border-collapse: collapse;
      margin-top: 1rem;
    }
    th, td {
      border: 1px solid #ddd;
      padding: 0.5rem;
      text-align: center;
    }
    th {
      background-color: #f5f5f5;
    }
    button {
      padding: 5px 10px;
      margin-top: 5px;
      background-color: #000000;
      color: #FFD700;
      border: none;
      border-radius: 5px;
      cursor: pointer;
      transition: all 0.3s;
    }
    button:hover {
      background-color: #333;
    }
    .cart-sidebar {
      width: 300px;
      background-color: #fff;
      padding: 1rem;
      border-radius: 8px;
      box-shadow: 0 2px 4px rgba(0,0,0,0.1);
      position: sticky;
      top: 20px;
      max-height: 80vh;
      overflow-y: auto;
      border-top: 4px solid #FFD700;
    }
    .cart-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 1rem;
      border-bottom: 2px solid #000000;
      padding-bottom: 10px;
    }
    .cart-header h3 {
      margin: 0;
      color: #000000;
    }
    .cart-items {
      list-style: none;
      padding: 0;
      margin: 0;
    }
    .cart-item {
      display: flex;
      justify-content: space-between;
      align-items: center;
      padding: 8px 0;
      border-bottom: 1px dashed #eee;
    }
    .cart-item-info {
      flex: 1;
    }
    .cart-item-actions {
      display: flex;
      gap: 5px;
    }
    .cart-item-actions button {
      padding: 2px 5px;
      font-size: 12px;
    }
    .price {
      color: #000;
      font-weight: bold;
    }
    .cart-total {
      margin-top: 1rem;
      padding-top: 1rem;
      border-top: 2px solid #000000;
      font-size: 1.1rem;
    }
    .checkout-btn {
      width: 100%;
      padding: 10px;
      margin-top: 10px;
      background-color: #000000;
      color: #FFD700;
      border: none;
      border-radius: 5px;
      cursor: pointer;
      font-weight: bold;
      transition: all 0.3s;
    }
    .checkout-btn:hover {
      background-color: #333;
    }
    footer {
      text-align: center;
      padding: 10px;
      background-color: #000000;
      color: #FFD700;
    }
    
    @media (max-width: 768px) {
      .container {
        flex-direction: column;
      }
      .cart-sidebar {
        width: 100%;
        position: static;
        margin-top: 2rem;
      }
    }
    
    /* Ø²Ø± Ø§Ù„Ø³Ù„Ø© Ø§Ù„Ø¹Ø§Ø¦Ù… */
    .floating-cart-btn {
      position: fixed;
      top: 100px;
      left: 20px;
      background-color: #000000;
      color: #FFD700;
      border: none;
      border-radius: 50%;
      width: 60px;
      height: 60px;
      font-size: 20px;
      cursor: pointer;
      box-shadow: 0 2px 10px rgba(0,0,0,0.3);
      display: flex;
      align-items: center;
      justify-content: center;
      z-index: 1000;
      transition: all 0.3s;
    }
    .floating-cart-btn:hover {
      background-color: #333;
      transform: scale(1.1);
    }
    .cart-badge {
      position: absolute;
      top: -5px;
      right: -5px;
      background-color: #FFD700;
      color: #000;
      border-radius: 50%;
      width: 25px;
      height: 25px;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 14px;
      font-weight: bold;
    }
    
    /* Ø¥Ø¶Ø§ÙØ© Ù…Ø³Ø§Ø­Ø© Ù„Ù„ÙÙˆØªØ± */
    body {
      padding-bottom: 60px;
    }
  </style>
  <link href="https://fonts.googleapis.com/css2?family=Tajawal:wght@400;500;700&display=swap" rel="stylesheet">
</head>
<body>

<header>
  <h1>Ø§Ù„Ø³Ø§Ù‡Ø± Ù„Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠØ§Øª</h1>
  <nav>
    <a href="index.html">Ø§Ù„ØµÙØ­Ø© Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©</a>
    <a href="products.html" class="active">Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª</a>
    <a href="about.html">Ù…Ù† Ù†Ø­Ù†</a>
    <a href="contact.html">Ø§ØªØµÙ„ Ø¨Ù†Ø§</a>
  </nav>
</header>

<!-- Ø²Ø± Ø§Ù„Ø³Ù„Ø© Ø§Ù„Ø¹Ø§Ø¦Ù… -->
<button class="floating-cart-btn" onclick="scrollToCart()">
  ğŸ›’
  <span class="cart-badge" id="floating-cart-count">0</span>
</button>

<div class="container">
  <div class="products-container">
    <input type="text" id="searchBox" placeholder="Ø§Ø¨Ø­Ø« Ø¹Ù† Ù…Ù†ØªØ¬..." oninput="filterProducts()">
    <div id="product-groups"></div>
  </div>
  
  <div class="cart-sidebar">
    <div class="cart-header">
      <h3>Ø³Ù„Ø© Ø§Ù„Ù…Ø´ØªØ±ÙŠØ§Øª</h3>
      <span id="cart-count">0</span>
    </div>
    <ul class="cart-items" id="cart"></ul>
    <div class="cart-total">
      <p id="total">Ø§Ù„Ø¥Ø¬Ù…Ø§Ù„ÙŠ: <span class="price">0</span> Ø¬.Ù…</p>
    </div>
    <button class="checkout-btn" onclick="checkout()">Ø¥ØªÙ…Ø§Ù… Ø§Ù„Ø·Ù„Ø¨ Ø¹Ø¨Ø± ÙˆØ§ØªØ³Ø§Ø¨</button>
  </div>
</div>

<footer>
  <p>Ø§Ù„Ø³Ø§Ù‡Ø± Ù„Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠØ§Øª - Ù…ØªØ®ØµØµÙˆÙ† ÙÙŠ Ø¨ÙŠØ¹ ÙˆØµÙŠØ§Ù†Ø© Ø§Ù„Ø£Ø¬Ù‡Ø²Ø© Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠØ©</p>
  <p>ØªØ­Øª Ø¥Ø¯Ø§Ø±Ø©: Ø§Ù„Ù…Ù‡Ù†Ø¯Ø³ / [Ø£Ø­Ù…Ø¯ Ø¬Ø¨Ø±ÙŠÙ„]</p>
  <p>ØªØ­Øª Ø¥Ø´Ø±Ø§Ù: Ø§Ù„Ù…Ù‡Ù†Ø¯Ø³ / [Ø¬Ù…Ø§Ù„ Ø£Ø­Ù…Ø¯]</p>
  <p>&copy;2025 Ø§Ù„Ø³Ø§Ù‡Ø± Ù„Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠØ§Øª. Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø­Ù‚ÙˆÙ‚ Ù…Ø­ÙÙˆØ¸Ø©.</p>
</footer>

<script>
// Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª
const categories = {
  "Ø§Ù„Ø±ÙŠØ³ÙŠÙØ±Ø§Øª": [
    { name: "Ø±ÙŠØ³ÙŠÙØ± Ø¹Ø§Ø¯ÙŠ", price: 700 },
    { name: "Ø±ÙŠØ³ÙŠÙØ± Ù…ØªÙˆØ³Ø·", price: 750 },
    { name: "Ø±ÙŠØ³ÙŠÙØ± Ø¹Ø§Ù„ÙŠ Ø§Ù„Ø¬ÙˆØ¯Ø©", price: 800 },
    { name: "Ø±ÙŠØ³ÙŠÙØ± Ø³Ù…Ø§Ø±Øª", price: 1500 },
    { name: "Ø±ÙŠØ³ÙŠÙØ± 4K", price: 2000 },
    { name: "Ø±ÙŠØ³ÙŠÙØ± ØµØºÙŠØ± Ø§Ù„Ø­Ø¬Ù…", price: 600 }
  ],
  "Ø®Ø¯Ù…Ø§Øª Ø§Ù„ØªØ±ÙƒÙŠØ¨ ÙˆØ§Ù„ØµÙŠØ§Ù†Ø©": [
    { name: "ØªØ±ÙƒÙŠØ¨ Ø±ÙŠØ³ÙŠÙØ±", price: 100 },
    { name: "ØµÙŠØ§Ù†Ø© Ø±ÙŠØ³ÙŠÙØ± Ø¨Ø³ÙŠØ·Ø©", price: 150 },
    { name: "ØµÙŠØ§Ù†Ø© Ø±ÙŠØ³ÙŠÙØ± Ù…ØªÙˆØ³Ø·Ø©", price: 250 },
    { name: "ØµÙŠØ§Ù†Ø© Ø±ÙŠØ³ÙŠÙØ± Ù…Ø¹Ù‚Ø¯Ø©", price: 350 },
    { name: "Ø¨Ø±Ù…Ø¬Ø© Ø±ÙŠØ³ÙŠÙØ±", price: 50 },
    { name: "ØªØ±ÙƒÙŠØ¨ Ø¯Ø´", price: 200 }
  ],
  "Ù‚Ø·Ø¹ Ø§Ù„ØºÙŠØ§Ø±": [
    { name: "Ø±ÙŠÙ…ÙˆØª Ø±ÙŠØ³ÙŠÙØ±", price: 100 },
    { name: "ÙƒØ§Ø¨Ù„ HDMI", price: 80 },
    { name: "Ù…Ø­ÙˆÙ„ Ø·Ø§Ù‚Ø©", price: 120 },
    { name: "Ù‡Ø§Ø±Ø¯ Ø®Ø§Ø±Ø¬ÙŠ", price: 500 },
    { name: "ÙÙ„Ø§Ø´Ø© USB", price: 150 },
    { name: "ÙƒØ§Ø¨Ù„ AV", price: 50 }
  ],
  "Ø§Ù„Ù…Ù„Ø­Ù‚Ø§Øª": [
    { name: "Ø­Ø§Ù…Ù„ ØªÙ„ÙØ²ÙŠÙˆÙ†", price: 300 },
    { name: "Ø³Ù…Ø§Ø¹Ø§Øª Ø±Ø£Ø³", price: 200 },
    { name: "Ù…Ø§ÙˆØ³ ÙˆÙ„ÙˆØ­Ø© Ù…ÙØ§ØªÙŠØ­", price: 250 },
    { name: "Ø­Ø§Ù…Ù„ Ø¬ÙˆØ§Ù„", price: 100 },
    { name: "Ø­Ø§ÙØ¸Ø© Ø±ÙŠØ³ÙŠÙØ±", price: 150 }
  ]
};

// Ø³Ù„Ø© Ø§Ù„Ù…Ø´ØªØ±ÙŠØ§Øª
const cart = {};

// Ø¹Ø±Ø¶ Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª
function renderProducts(filter = "") {
  const groupContainer = document.getElementById("product-groups");
  groupContainer.innerHTML = "";

  for (const [categoryName, items] of Object.entries(categories)) {
    const filteredItems = items.filter(item => 
      item.name.includes(filter) || 
      categoryName.includes(filter)
    );

    if (filteredItems.length === 0) continue;

    const groupDiv = document.createElement("div");
    groupDiv.className = "category";

    const heading = document.createElement("h3");
    heading.textContent = categoryName;
    groupDiv.appendChild(heading);

    const table = document.createElement("table");
    const thead = document.createElement("thead");
    thead.innerHTML = `<tr><th>Ø§Ù„Ù…Ù†ØªØ¬</th><th>Ø§Ù„Ø³Ø¹Ø±</th><th>Ø·Ù„Ø¨</th></tr>`;
    table.appendChild(thead);

    const tbody = document.createElement("tbody");
    filteredItems.forEach((product, i) => {
      const row = document.createElement("tr");
      row.innerHTML = `
        <td>${product.name}</td>
        <td class="price">${product.price} Ø¬.Ù…</td>
        <td><button onclick="addToCart('${categoryName}', ${i})">Ø¥Ø¶Ø§ÙØ©</button></td>
      `;
      tbody.appendChild(row);
    });

    table.appendChild(tbody);
    groupDiv.appendChild(table);
    groupContainer.appendChild(groupDiv);
  }
}

// ØªØµÙÙŠØ© Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª
function filterProducts() {
  const query = document.getElementById("searchBox").value.trim();
  renderProducts(query);
}

// Ø¥Ø¶Ø§ÙØ© Ø¥Ù„Ù‰ Ø§Ù„Ø³Ù„Ø©
function addToCart(category, index) {
  const item = categories[category][index];
  const itemName = item.name;
  
  if (!cart[itemName]) {
    cart[itemName] = { ...item, quantity: 1 };
  } else {
    cart[itemName].quantity++;
  }
  
  renderCart();
}

// Ø¥Ø²Ø§Ù„Ø© Ù…Ù† Ø§Ù„Ø³Ù„Ø©
function removeFromCart(name) {
  if (cart[name]) {
    cart[name].quantity--;
    if (cart[name].quantity <= 0) {
      delete cart[name];
    }
    renderCart();
  }
}

// Ø¹Ø±Ø¶ Ø§Ù„Ø³Ù„Ø©
function renderCart() {
  const cartEl = document.getElementById("cart");
  const totalEl = document.getElementById("total");
  const countEl = document.getElementById("cart-count");
  const floatingCountEl = document.getElementById("floating-cart-count");
  
  cartEl.innerHTML = "";
  let total = 0;
  let itemCount = 0;

  for (const [name, item] of Object.entries(cart)) {
    total += item.price * item.quantity;
    itemCount += item.quantity;
    
    const li = document.createElement("li");
    li.className = "cart-item";
    li.innerHTML = `
      <div class="cart-item-info">
        ${name} <br>
        <small>${item.price} Ø¬.Ù… Ã— ${item.quantity}</small>
      </div>
      <div class="cart-item-actions">
        <button onclick="addToCartFromCart('${name}')">+</button>
        <button onclick="removeFromCart('${name}')">-</button>
      </div>
    `;
    cartEl.appendChild(li);
  }

  totalEl.innerHTML = `Ø§Ù„Ø¥Ø¬Ù…Ø§Ù„ÙŠ: <span class="price">${total}</span> Ø¬.Ù…`;
  countEl.textContent = itemCount;
  floatingCountEl.textContent = itemCount;
}

// Ø¥Ø¶Ø§ÙØ© Ø¥Ù„Ù‰ Ø§Ù„Ø³Ù„Ø© Ù…Ù† Ø¯Ø§Ø®Ù„ Ø§Ù„Ø³Ù„Ø©
function addToCartFromCart(name) {
  for (const [category, items] of Object.entries(categories)) {
    const index = items.findIndex(p => p.name === name);
    if (index !== -1) {
      addToCart(category, index);
      break;
    }
  }
}

// Ø¥ØªÙ…Ø§Ù… Ø§Ù„Ø·Ù„Ø¨
function checkout() {
  if (Object.keys(cart).length === 0) {
    alert("Ø§Ù„Ø³Ù„Ø© ÙØ§Ø±ØºØ©ØŒ ÙŠØ±Ø¬Ù‰ Ø¥Ø¶Ø§ÙØ© Ù…Ù†ØªØ¬Ø§Øª Ø£ÙˆÙ„Ø§Ù‹");
    return;
  }
  
  let message = "Ø§Ù„Ø³Ù„Ø§Ù… Ø¹Ù„ÙŠÙƒÙ…ØŒ Ø£Ø±ÙŠØ¯ Ø·Ù„Ø¨ Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª Ø§Ù„ØªØ§Ù„ÙŠØ© Ù…Ù† Ø§Ù„Ø³Ø§Ù‡Ø± Ù„Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠØ§Øª:\n\n";
  for (const item of Object.values(cart)) {
    message += `- ${item.name}: ${item.quantity} Ã— ${item.price} Ø¬.Ù… = ${item.quantity * item.price} Ø¬.Ù…\n`;
  }
  
  const total = Object.values(cart).reduce((sum, item) => sum + item.price * item.quantity, 0);
  message += `\nØ§Ù„Ù…Ø¬Ù…ÙˆØ¹: ${total} Ø¬.Ù…\n\n`;
  message += "ğŸ“ Ø§Ù„Ø¹Ù†ÙˆØ§Ù†: Ø´Ø§Ø±Ø¹ Ø§Ù„Ù…Ø·Ø±ÙˆØ§ÙŠØŒ Ø£Ù…Ø§Ù… Ù…Ø³ØªØ´ÙÙ‰ Ø§Ù„Ù†ÙˆØ± Ø§Ù„Ù…Ø­Ù…Ø¯ÙŠØŒ Ø§Ù„Ù…Ø·Ø±ÙŠØ© - Ø§Ù„Ù‚Ø§Ù‡Ø±Ø©\n";
  message += "ğŸ“ Ø±Ù‚Ù… Ø§Ù„Ù‡Ø§ØªÙ: 01092888626\n\n";
  message += "Ø´ÙƒØ±Ø§Ù‹ Ù„Ø®Ø¯Ù…ØªÙƒÙ… Ø§Ù„Ù…Ù…ØªØ§Ø²Ø©!";
  
  const phone = "01092888626";
  const url = `https://wa.me/${phone}?text=${encodeURIComponent(message)}`;
  window.open(url, '_blank');
}

// Ø§Ù„ØªÙ…Ø±ÙŠØ± Ø¥Ù„Ù‰ Ø§Ù„Ø³Ù„Ø©
function scrollToCart() {
  document.querySelector('.cart-sidebar').scrollIntoView({
    behavior: 'smooth'
  });
}

// Ø¨Ø¯Ø¡ Ø§Ù„ØªØ­Ù…ÙŠÙ„
document.addEventListener('DOMContentLoaded', function() {
  renderProducts();
});
</script>
</body>
</html>