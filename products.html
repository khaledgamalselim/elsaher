<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>الساهر للإلكترونيات - قائمة المنتجات</title>
  <style>
    body {
      font-family: 'Tajawal', Arial, sans-serif;
      background-color: #f9f9f9;
      margin: 0;
      padding: 0;
    }

    header {
      background-color: #000000;
      color: #FFD700;
      text-align: center;
      padding: 1rem;
      box-shadow: 0 2px 10px rgba(0,0,0,0.2);
    }
    
    nav {
      display: flex;
      justify-content: center;
      gap: 30px;
      padding: 10px 0;
    }
    
    nav a {
      color: #FFD700;
      text-decoration: none;
      font-size: 18px;
      padding: 8px 15px;
      border-radius: 8px;
      transition: all 0.3s;
    }
    
    nav a:hover {
      background-color: rgba(255, 215, 0, 0.2);
      color: #FFFFFF;
    }
    
    nav a.active {
      background-color: #FFD700;
      color: #000;
      font-weight: bold;
    }
    
    .container {
      max-width: 1200px;
      margin: auto;
      padding: 1.5rem;
      display: flex;
      gap: 20px;
    }
    .products-container {
      flex: 1;
    }
    #searchBox {
      width: 100%;
      padding: 10px;
      margin-bottom: 20px;
      font-size: 16px;
      border: 1px solid #ccc;
      border-radius: 6px;
    }
    .category {
      margin-bottom: 2rem;
      background: #fff;
      border-radius: 8px;
      box-shadow: 0 2px 5px rgba(0,0,0,0.1);
      padding: 1rem;
      border-top: 4px solid #FFD700;
    }
    .category h3 {
      background-color: #000000;
      color: #FFD700;
      padding: 0.5rem;
      border-radius: 6px;
    }
    table {
      width: 100%;
      border-collapse: collapse;
      margin-top: 1rem;
    }
    th, td {
      border: 1px solid #ddd;
      padding: 0.5rem;
      text-align: center;
    }
    th {
      background-color: #f5f5f5;
    }
    button {
      padding: 5px 10px;
      margin-top: 5px;
      background-color: #000000;
      color: #FFD700;
      border: none;
      border-radius: 5px;
      cursor: pointer;
      transition: all 0.3s;
    }
    button:hover {
      background-color: #333;
    }
    .cart-sidebar {
      width: 300px;
      background-color: #fff;
      padding: 1rem;
      border-radius: 8px;
      box-shadow: 0 2px 4px rgba(0,0,0,0.1);
      position: sticky;
      top: 20px;
      max-height: 80vh;
      overflow-y: auto;
      border-top: 4px solid #FFD700;
    }
    .cart-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 1rem;
      border-bottom: 2px solid #000000;
      padding-bottom: 10px;
    }
    .cart-header h3 {
      margin: 0;
      color: #000000;
    }
    .cart-items {
      list-style: none;
      padding: 0;
      margin: 0;
    }
    .cart-item {
      display: flex;
      justify-content: space-between;
      align-items: center;
      padding: 8px 0;
      border-bottom: 1px dashed #eee;
    }
    .cart-item-info {
      flex: 1;
    }
    .cart-item-actions {
      display: flex;
      gap: 5px;
    }
    .cart-item-actions button {
      padding: 2px 5px;
      font-size: 12px;
    }
    .price {
      color: #000;
      font-weight: bold;
    }
    .cart-total {
      margin-top: 1rem;
      padding-top: 1rem;
      border-top: 2px solid #000000;
      font-size: 1.1rem;
    }
    .checkout-btn {
      width: 100%;
      padding: 10px;
      margin-top: 10px;
      background-color: #000000;
      color: #FFD700;
      border: none;
      border-radius: 5px;
      cursor: pointer;
      font-weight: bold;
      transition: all 0.3s;
    }
    .checkout-btn:hover {
      background-color: #333;
    }
    footer {
      text-align: center;
      padding: 10px;
      background-color: #000000;
      color: #FFD700;
    }
    
    @media (max-width: 768px) {
      .container {
        flex-direction: column;
      }
      .cart-sidebar {
        width: 100%;
        position: static;
        margin-top: 2rem;
      }
    }
    
    /* زر السلة العائم */
    .floating-cart-btn {
      position: fixed;
      top: 100px;
      left: 20px;
      background-color: #000000;
      color: #FFD700;
      border: none;
      border-radius: 50%;
      width: 60px;
      height: 60px;
      font-size: 20px;
      cursor: pointer;
      box-shadow: 0 2px 10px rgba(0,0,0,0.3);
      display: flex;
      align-items: center;
      justify-content: center;
      z-index: 1000;
      transition: all 0.3s;
    }
    .floating-cart-btn:hover {
      background-color: #333;
      transform: scale(1.1);
    }
    .cart-badge {
      position: absolute;
      top: -5px;
      right: -5px;
      background-color: #FFD700;
      color: #000;
      border-radius: 50%;
      width: 25px;
      height: 25px;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 14px;
      font-weight: bold;
    }
    
    /* إضافة مساحة للفوتر */
    body {
      padding-bottom: 60px;
    }
  </style>
  <link href="https://fonts.googleapis.com/css2?family=Tajawal:wght@400;500;700&display=swap" rel="stylesheet">
</head>
<body>

<header>
  <h1>الساهر للإلكترونيات</h1>
  <nav>
    <a href="index.html">الصفحة الرئيسية</a>
    <a href="products.html" class="active">قائمة المنتجات</a>
    <a href="about.html">من نحن</a>
    <a href="contact.html">اتصل بنا</a>
  </nav>
</header>

<!-- زر السلة العائم -->
<button class="floating-cart-btn" onclick="scrollToCart()">
  🛒
  <span class="cart-badge" id="floating-cart-count">0</span>
</button>

<div class="container">
  <div class="products-container">
    <input type="text" id="searchBox" placeholder="ابحث عن منتج..." oninput="filterProducts()">
    <div id="product-groups"></div>
  </div>
  
  <div class="cart-sidebar">
    <div class="cart-header">
      <h3>سلة المشتريات</h3>
      <span id="cart-count">0</span>
    </div>
    <ul class="cart-items" id="cart"></ul>
    <div class="cart-total">
      <p id="total">الإجمالي: <span class="price">0</span> ج.م</p>
    </div>
    <button class="checkout-btn" onclick="checkout()">إتمام الطلب عبر واتساب</button>
  </div>
</div>

<footer>
  <p>الساهر للإلكترونيات - متخصصون في بيع وصيانة الأجهزة الإلكترونية</p>
  <p>تحت إدارة: المهندس / [أحمد جبريل]</p>
  <p>تحت إشراف: المهندس / [جمال أحمد]</p>
  <p>&copy;2025 الساهر للإلكترونيات. جميع الحقوق محفوظة.</p>
</footer>

<script>
// بيانات المنتجات
const categories = {
  "الريسيفرات": [
    { name: "ريسيفر عادي", price: 700 },
    { name: "ريسيفر متوسط", price: 750 },
    { name: "ريسيفر عالي الجودة", price: 800 },
    { name: "ريسيفر سمارت", price: 1500 },
    { name: "ريسيفر 4K", price: 2000 },
    { name: "ريسيفر صغير الحجم", price: 600 }
  ],
  "خدمات التركيب والصيانة": [
    { name: "تركيب ريسيفر", price: 100 },
    { name: "صيانة ريسيفر بسيطة", price: 150 },
    { name: "صيانة ريسيفر متوسطة", price: 250 },
    { name: "صيانة ريسيفر معقدة", price: 350 },
    { name: "برمجة ريسيفر", price: 50 },
    { name: "تركيب دش", price: 200 }
  ],
  "قطع الغيار": [
    { name: "ريموت ريسيفر", price: 100 },
    { name: "كابل HDMI", price: 80 },
    { name: "محول طاقة", price: 120 },
    { name: "هارد خارجي", price: 500 },
    { name: "فلاشة USB", price: 150 },
    { name: "كابل AV", price: 50 }
  ],
  "الملحقات": [
    { name: "حامل تلفزيون", price: 300 },
    { name: "سماعات رأس", price: 200 },
    { name: "ماوس ولوحة مفاتيح", price: 250 },
    { name: "حامل جوال", price: 100 },
    { name: "حافظة ريسيفر", price: 150 }
  ]
};

// سلة المشتريات
const cart = {};

// عرض المنتجات
function renderProducts(filter = "") {
  const groupContainer = document.getElementById("product-groups");
  groupContainer.innerHTML = "";

  for (const [categoryName, items] of Object.entries(categories)) {
    const filteredItems = items.filter(item => 
      item.name.includes(filter) || 
      categoryName.includes(filter)
    );

    if (filteredItems.length === 0) continue;

    const groupDiv = document.createElement("div");
    groupDiv.className = "category";

    const heading = document.createElement("h3");
    heading.textContent = categoryName;
    groupDiv.appendChild(heading);

    const table = document.createElement("table");
    const thead = document.createElement("thead");
    thead.innerHTML = `<tr><th>المنتج</th><th>السعر</th><th>طلب</th></tr>`;
    table.appendChild(thead);

    const tbody = document.createElement("tbody");
    filteredItems.forEach((product, i) => {
      const row = document.createElement("tr");
      row.innerHTML = `
        <td>${product.name}</td>
        <td class="price">${product.price} ج.م</td>
        <td><button onclick="addToCart('${categoryName}', ${i})">إضافة</button></td>
      `;
      tbody.appendChild(row);
    });

    table.appendChild(tbody);
    groupDiv.appendChild(table);
    groupContainer.appendChild(groupDiv);
  }
}

// تصفية المنتجات
function filterProducts() {
  const query = document.getElementById("searchBox").value.trim();
  renderProducts(query);
}

// إضافة إلى السلة
function addToCart(category, index) {
  const item = categories[category][index];
  const itemName = item.name;
  
  if (!cart[itemName]) {
    cart[itemName] = { ...item, quantity: 1 };
  } else {
    cart[itemName].quantity++;
  }
  
  renderCart();
}

// إزالة من السلة
function removeFromCart(name) {
  if (cart[name]) {
    cart[name].quantity--;
    if (cart[name].quantity <= 0) {
      delete cart[name];
    }
    renderCart();
  }
}

// عرض السلة
function renderCart() {
  const cartEl = document.getElementById("cart");
  const totalEl = document.getElementById("total");
  const countEl = document.getElementById("cart-count");
  const floatingCountEl = document.getElementById("floating-cart-count");
  
  cartEl.innerHTML = "";
  let total = 0;
  let itemCount = 0;

  for (const [name, item] of Object.entries(cart)) {
    total += item.price * item.quantity;
    itemCount += item.quantity;
    
    const li = document.createElement("li");
    li.className = "cart-item";
    li.innerHTML = `
      <div class="cart-item-info">
        ${name} <br>
        <small>${item.price} ج.م × ${item.quantity}</small>
      </div>
      <div class="cart-item-actions">
        <button onclick="addToCartFromCart('${name}')">+</button>
        <button onclick="removeFromCart('${name}')">-</button>
      </div>
    `;
    cartEl.appendChild(li);
  }

  totalEl.innerHTML = `الإجمالي: <span class="price">${total}</span> ج.م`;
  countEl.textContent = itemCount;
  floatingCountEl.textContent = itemCount;
}

// إضافة إلى السلة من داخل السلة
function addToCartFromCart(name) {
  for (const [category, items] of Object.entries(categories)) {
    const index = items.findIndex(p => p.name === name);
    if (index !== -1) {
      addToCart(category, index);
      break;
    }
  }
}

// إتمام الطلب
function checkout() {
  if (Object.keys(cart).length === 0) {
    alert("السلة فارغة، يرجى إضافة منتجات أولاً");
    return;
  }
  
  let message = "السلام عليكم، أريد طلب المنتجات التالية من الساهر للإلكترونيات:\n\n";
  for (const item of Object.values(cart)) {
    message += `- ${item.name}: ${item.quantity} × ${item.price} ج.م = ${item.quantity * item.price} ج.م\n`;
  }
  
  const total = Object.values(cart).reduce((sum, item) => sum + item.price * item.quantity, 0);
  message += `\nالمجموع: ${total} ج.م\n\n`;
  message += "📍 العنوان: شارع المطرواي، أمام مستشفى النور المحمدي، المطرية - القاهرة\n";
  message += "📞 رقم الهاتف: 01092888626\n\n";
  message += "شكراً لخدمتكم الممتازة!";
  
  const phone = "01092888626";
  const url = `https://wa.me/${phone}?text=${encodeURIComponent(message)}`;
  window.open(url, '_blank');
}

// التمرير إلى السلة
function scrollToCart() {
  document.querySelector('.cart-sidebar').scrollIntoView({
    behavior: 'smooth'
  });
}

// بدء التحميل
document.addEventListener('DOMContentLoaded', function() {
  renderProducts();
});
</script>
</body>
</html>